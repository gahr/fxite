--- ../fox-1.7.20.orig/lib/FXStat.cpp	2009-06-24 23:39:58.000000000 -0500
+++ ./lib/FXStat.cpp	2009-10-13 18:53:19.000000000 -0500
@@ -202,7 +202,7 @@
   info.fileIndex=0;
   info.fileSize=0;
   if(!file.empty()){
-#ifdef WIN32
+#if defined(WIN32) && !defined(__MINGW32__)
 #ifdef UNICODE
     TCHAR buffer[MAXPATHLEN];
     HANDLE hfile;
@@ -265,14 +265,16 @@
       info.modeFlags=(data.st_mode&0777);
       if(S_ISDIR(data.st_mode)) info.modeFlags|=FXIO::Directory;
       if(S_ISREG(data.st_mode)) info.modeFlags|=FXIO::File;
-      if(S_ISLNK(data.st_mode)) info.modeFlags|=FXIO::SymLink;
       if(S_ISCHR(data.st_mode)) info.modeFlags|=FXIO::Character;
       if(S_ISBLK(data.st_mode)) info.modeFlags|=FXIO::Block;
       if(S_ISFIFO(data.st_mode)) info.modeFlags|=FXIO::Fifo;
+#ifndef WIN32
+      if(S_ISLNK(data.st_mode)) info.modeFlags|=FXIO::SymLink;
       if(S_ISSOCK(data.st_mode)) info.modeFlags|=FXIO::Socket;
       if(data.st_mode&S_ISUID) info.modeFlags|=FXIO::SetUser;
       if(data.st_mode&S_ISGID) info.modeFlags|=FXIO::SetGroup;
       if(data.st_mode&S_ISVTX) info.modeFlags|=FXIO::Sticky;
+#endif
       info.userNumber=data.st_uid;
       info.groupNumber=data.st_gid;
       info.linkCount=data.st_nlink;
@@ -479,7 +481,7 @@
 // Return true if file exists
 FXbool FXStat::exists(const FXString& file){
   if(!file.empty()){
-#ifdef WIN32
+#if defined(WIN32) && !defined(__MINGW32__)
 #ifdef UNICODE
     FXnchar name[MAXPATHLEN];
     utf2ncs(name,MAXPATHLEN,file.text(),file.length()+1);
